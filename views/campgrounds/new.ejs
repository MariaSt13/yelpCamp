<%include ../partials/header%>
<div class="row">
	<h1 class="text-center">Create a New Campground</h1>
	<div class="col-xs-10 col-xs-offset-1 col-sm-8 col-sm-offset-2 col-md-6 col-md-offset-3">
		<form action="/campgrounds" method="POST" enctype="multipart/form-data">
			<div class="form-group">
				<label class="sr-only">Name of campgrounds</label>
				<input class="form-control" type="text" name="campground[name]" placeholder="name" required>
			</div>
			<div class="form-group">
				<label class="sr-only">Price per night</label>
				<input class="form-control" type="number" name="campground[price]" placeholder="price" min="0.01"
					step="0.01" required>
			</div>
			<div class="form-group">
				<label for="imageOptSelect">Image</label>
				<select class="form-control" name="imageOptSelect" id="imageOptSelect" onchange="imageInputDisplay()">
					<option name="image1" value="imageUrl">Image url</option>
					<option name="image2" value="imageFile">Upload file</option>
				</select>
			</div>
			<div class="form-group">
				<div id="imageUrlInputDiv">
					<input class="form-control" type="text" name="imageUrl" placeholder="image url" id="imageUrlInput"
						required>
				</div>
				<div id="imageFileInputDiv" style="display: none;">
					<input type="file" name="imageFile" accept="image/*" id="imageFileInput">
				</div>
			</div>
			<div class="form-group">
				<label class="sr-only">campground description</label>
				<input class="form-control" type="text" name="campground[description]" placeholder="description"
					required>
			</div>
			<button class="btn btn-primary btn-lg btn-block" id="submitBth">Submit!</button>
		</form>
		<a href="/campgrounds">Go back</a>
	</div>
</div>

<script>
	function imageInputDisplay() {
		let selected = document.getElementById("imageOptSelect").value;
		if (selected === "imageUrl") {
			document.getElementById("imageFileInputDiv").style.display = "none"
			document.getElementById("imageUrlInputDiv").style.display = "block"
			document.getElementById("imageUrlInput").setAttribute("required", true)
			document.getElementById("imageFileInput").removeAttribute("required")
		} else if (selected === "imageFile") {
			document.getElementById("imageUrlInputDiv").style.display = "none"
			document.getElementById("imageFileInputDiv").style.display = "block"
			document.getElementById("imageFileInput").setAttribute("required", true)
			document.getElementById("imageUrlInput").removeAttribute("required")
		}
	}
</script>

<%include ../partials/footer%>